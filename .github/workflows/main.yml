name: Sample PHP Deployment
on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]
jobs:
  build:
    runs-on: self-hosted
    steps:
    - name: Set variable
        run: |
          echo "::set-env name=WORK_SPACE_DIRECTORY::D:\actions-runner\_work\training_with_actions\training_with_actions\deepak_workspace"
          echo "::set-env name=PRODUCTION_DIRECTORY::D:\XAMPP\htdocs\git_action_project"
    - name: Checkout from repo
      uses: actions/checkout@v3
      with:
       path: deepak_workspace
    - name: copy all files from _work to running server .. ${{ github.workspace }}
      shell: cmd
      run: |
          cd $WORK_SPACE_DIRECTORY
          xcopy . $PRODUCTION_DIRECTORY /y /e /h

      
    


    # Add a test script to composer.json, for instance: "test": "vendor/bin/phpunit"
    # Docs: https://getcomposer.org/doc/articles/scripts.md

    # - name: Run test suite
    #   run: composer run-script test
